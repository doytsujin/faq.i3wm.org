<?xml version="1.0" encoding="utf-8"?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>i3 FAQ - Individual question feed</title><link>https://faq.i3wm.org/questions/</link><description>Frequently asked questions and answers about the i3 window manager</description><atom:link href="http://faq.i3wm.org/feeds/question/3910/" rel="self"></atom:link><language>en</language><copyright>Copyright i3, 2012</copyright><lastBuildDate>Wed, 08 Apr 2015 11:42:27 +0000</lastBuildDate><item><title>Compton shadows on floating windows *only*</title><link>https://faq.i3wm.org/question/3910/compton-shadows-on-floating-windows-only/</link><description>Hi, Long time user, always found my answers on here, or just worked it out.

So the title says it all really, as a previous post says shadows are a bit pointless on a tiler. 
But... on a floating window, that would look great, and help pick the window out from the existing tiles (I have just colour for a wall, right now)
I don't always float, but when I do I'd like shadows!

Compton allows exclusions on WM_class, so: 
I have tried xprop and xwininfo to see if there is a difference between floaters as far as X is concerned. None that I can see.

Compton allows wintypes exclusions:
No idea where the wintype info is, the above apps seem not to show them.

Tried googling for that but not much luck.

I have tried entering into the compton conf some guesses (float/ing/ed) for wintypes. No Joy.
This maybe more of a compton question, but it does relate to i3, I think as I'm not sure if compton can pick out the floats, I can't be the only person to wish this, can I?

Anyway, thanks for listening. 

If it's impossible, I'll just not bother with compton.
Cheers, 
WuX

 </description><pubDate>Wed, 04 Jun 2014 08:14:47 +0000</pubDate><guid>https://faq.i3wm.org/question/3910/compton-shadows-on-floating-windows-only/</guid></item><item><title>Comment by TonyC for &lt;p&gt;Hi, Long time user, always found my answers on here, or just worked it out.&lt;/p&gt;

&lt;p&gt;So the title says it all really, as a previous post says shadows are a bit pointless on a tiler. 
But... on a floating window, that would look great, and help pick the window out from the existing tiles (I have just colour for a wall, right now)
I don't always float, but when I do I'd like shadows!&lt;/p&gt;

&lt;p&gt;Compton allows exclusions on WM_class, so: 
I have tried xprop and xwininfo to see if there is a difference between floaters as far as X is concerned. None that I can see.&lt;/p&gt;

&lt;p&gt;Compton allows wintypes exclusions:
No idea where the wintype info is, the above apps seem not to show them.&lt;/p&gt;

&lt;p&gt;Tried googling for that but not much luck.&lt;/p&gt;

&lt;p&gt;I have tried entering into the compton conf some guesses (float/ing/ed) for wintypes. No Joy.
This maybe more of a compton question, but it does relate to i3, I think as I'm not sure if compton can pick out the floats, I can't be the only person to wish this, can I?&lt;/p&gt;

&lt;p&gt;Anyway, thanks for listening. &lt;/p&gt;

&lt;p&gt;If it's impossible, I'll just not bother with compton.
Cheers, 
WuX&lt;/p&gt;
</title><link>https://faq.i3wm.org/question/3910/compton-shadows-on-floating-windows-only/?comment=3978#comment-3978</link><description>There is no such thing as a "floating" wintype in any spec. Your options would be to request a feature for the property in core (and try to be persuasive) or amend the ipc (add-on) interface for a "floating" event and write your own extension.</description><pubDate>Sat, 14 Jun 2014 07:09:33 +0000</pubDate><guid>https://faq.i3wm.org/question/3910/compton-shadows-on-floating-windows-only/?comment=3978#comment-3978</guid></item><item><title>Comment by wuxmedia for &lt;p&gt;Hi, Long time user, always found my answers on here, or just worked it out.&lt;/p&gt;

&lt;p&gt;So the title says it all really, as a previous post says shadows are a bit pointless on a tiler. 
But... on a floating window, that would look great, and help pick the window out from the existing tiles (I have just colour for a wall, right now)
I don't always float, but when I do I'd like shadows!&lt;/p&gt;

&lt;p&gt;Compton allows exclusions on WM_class, so: 
I have tried xprop and xwininfo to see if there is a difference between floaters as far as X is concerned. None that I can see.&lt;/p&gt;

&lt;p&gt;Compton allows wintypes exclusions:
No idea where the wintype info is, the above apps seem not to show them.&lt;/p&gt;

&lt;p&gt;Tried googling for that but not much luck.&lt;/p&gt;

&lt;p&gt;I have tried entering into the compton conf some guesses (float/ing/ed) for wintypes. No Joy.
This maybe more of a compton question, but it does relate to i3, I think as I'm not sure if compton can pick out the floats, I can't be the only person to wish this, can I?&lt;/p&gt;

&lt;p&gt;Anyway, thanks for listening. &lt;/p&gt;

&lt;p&gt;If it's impossible, I'll just not bother with compton.
Cheers, 
WuX&lt;/p&gt;
</title><link>https://faq.i3wm.org/question/3910/compton-shadows-on-floating-windows-only/?comment=5755#comment-5755</link><description>well - In the end I just disabled the shadow on my terminal windows,  then it didn't look so weird but the notifications etc look nice and shadowy :)</description><pubDate>Wed, 08 Apr 2015 11:42:27 +0000</pubDate><guid>https://faq.i3wm.org/question/3910/compton-shadows-on-floating-windows-only/?comment=5755#comment-5755</guid></item><item><title>Comment by tigrezno for &lt;p&gt;Hi, Long time user, always found my answers on here, or just worked it out.&lt;/p&gt;

&lt;p&gt;So the title says it all really, as a previous post says shadows are a bit pointless on a tiler. 
But... on a floating window, that would look great, and help pick the window out from the existing tiles (I have just colour for a wall, right now)
I don't always float, but when I do I'd like shadows!&lt;/p&gt;

&lt;p&gt;Compton allows exclusions on WM_class, so: 
I have tried xprop and xwininfo to see if there is a difference between floaters as far as X is concerned. None that I can see.&lt;/p&gt;

&lt;p&gt;Compton allows wintypes exclusions:
No idea where the wintype info is, the above apps seem not to show them.&lt;/p&gt;

&lt;p&gt;Tried googling for that but not much luck.&lt;/p&gt;

&lt;p&gt;I have tried entering into the compton conf some guesses (float/ing/ed) for wintypes. No Joy.
This maybe more of a compton question, but it does relate to i3, I think as I'm not sure if compton can pick out the floats, I can't be the only person to wish this, can I?&lt;/p&gt;

&lt;p&gt;Anyway, thanks for listening. &lt;/p&gt;

&lt;p&gt;If it's impossible, I'll just not bother with compton.
Cheers, 
WuX&lt;/p&gt;
</title><link>https://faq.i3wm.org/question/3910/compton-shadows-on-floating-windows-only/?comment=4307#comment-4307</link><description>I also asked for this, a way to select windows by its state: "for_window [state='floating'] move to .....".</description><pubDate>Mon, 21 Jul 2014 19:04:40 +0000</pubDate><guid>https://faq.i3wm.org/question/3910/compton-shadows-on-floating-windows-only/?comment=4307#comment-4307</guid></item><item><title>Comment by wuxmedia for &lt;p&gt;Hi, Long time user, always found my answers on here, or just worked it out.&lt;/p&gt;

&lt;p&gt;So the title says it all really, as a previous post says shadows are a bit pointless on a tiler. 
But... on a floating window, that would look great, and help pick the window out from the existing tiles (I have just colour for a wall, right now)
I don't always float, but when I do I'd like shadows!&lt;/p&gt;

&lt;p&gt;Compton allows exclusions on WM_class, so: 
I have tried xprop and xwininfo to see if there is a difference between floaters as far as X is concerned. None that I can see.&lt;/p&gt;

&lt;p&gt;Compton allows wintypes exclusions:
No idea where the wintype info is, the above apps seem not to show them.&lt;/p&gt;

&lt;p&gt;Tried googling for that but not much luck.&lt;/p&gt;

&lt;p&gt;I have tried entering into the compton conf some guesses (float/ing/ed) for wintypes. No Joy.
This maybe more of a compton question, but it does relate to i3, I think as I'm not sure if compton can pick out the floats, I can't be the only person to wish this, can I?&lt;/p&gt;

&lt;p&gt;Anyway, thanks for listening. &lt;/p&gt;

&lt;p&gt;If it's impossible, I'll just not bother with compton.
Cheers, 
WuX&lt;/p&gt;
</title><link>https://faq.i3wm.org/question/3910/compton-shadows-on-floating-windows-only/?comment=3979#comment-3979</link><description>Thanks TonyC - I was hoping you'd answer this one. I had the feeling that it wouldn't be an easy fix. I might have a look at the ipc thing - see if i can work out how to do it. I'm really enjoying compton. </description><pubDate>Sat, 14 Jun 2014 08:27:22 +0000</pubDate><guid>https://faq.i3wm.org/question/3910/compton-shadows-on-floating-windows-only/?comment=3979#comment-3979</guid></item><item><title>Comment by TonyC for &lt;p&gt;Hi, Long time user, always found my answers on here, or just worked it out.&lt;/p&gt;

&lt;p&gt;So the title says it all really, as a previous post says shadows are a bit pointless on a tiler. 
But... on a floating window, that would look great, and help pick the window out from the existing tiles (I have just colour for a wall, right now)
I don't always float, but when I do I'd like shadows!&lt;/p&gt;

&lt;p&gt;Compton allows exclusions on WM_class, so: 
I have tried xprop and xwininfo to see if there is a difference between floaters as far as X is concerned. None that I can see.&lt;/p&gt;

&lt;p&gt;Compton allows wintypes exclusions:
No idea where the wintype info is, the above apps seem not to show them.&lt;/p&gt;

&lt;p&gt;Tried googling for that but not much luck.&lt;/p&gt;

&lt;p&gt;I have tried entering into the compton conf some guesses (float/ing/ed) for wintypes. No Joy.
This maybe more of a compton question, but it does relate to i3, I think as I'm not sure if compton can pick out the floats, I can't be the only person to wish this, can I?&lt;/p&gt;

&lt;p&gt;Anyway, thanks for listening. &lt;/p&gt;

&lt;p&gt;If it's impossible, I'll just not bother with compton.
Cheers, 
WuX&lt;/p&gt;
</title><link>https://faq.i3wm.org/question/3910/compton-shadows-on-floating-windows-only/?comment=3990#comment-3990</link><description>It's definitely possible to do, but it might take some understanding of X11. Improving compatibility with compton is definitely something I would like to work on in the future.</description><pubDate>Sun, 15 Jun 2014 03:33:04 +0000</pubDate><guid>https://faq.i3wm.org/question/3910/compton-shadows-on-floating-windows-only/?comment=3990#comment-3990</guid></item><item><title>Answer by zolar for &lt;p&gt;Hi, Long time user, always found my answers on here, or just worked it out.&lt;/p&gt;

&lt;p&gt;So the title says it all really, as a previous post says shadows are a bit pointless on a tiler. 
But... on a floating window, that would look great, and help pick the window out from the existing tiles (I have just colour for a wall, right now)
I don't always float, but when I do I'd like shadows!&lt;/p&gt;

&lt;p&gt;Compton allows exclusions on WM_class, so: 
I have tried xprop and xwininfo to see if there is a difference between floaters as far as X is concerned. None that I can see.&lt;/p&gt;

&lt;p&gt;Compton allows wintypes exclusions:
No idea where the wintype info is, the above apps seem not to show them.&lt;/p&gt;

&lt;p&gt;Tried googling for that but not much luck.&lt;/p&gt;

&lt;p&gt;I have tried entering into the compton conf some guesses (float/ing/ed) for wintypes. No Joy.
This maybe more of a compton question, but it does relate to i3, I think as I'm not sure if compton can pick out the floats, I can't be the only person to wish this, can I?&lt;/p&gt;

&lt;p&gt;Anyway, thanks for listening. &lt;/p&gt;

&lt;p&gt;If it's impossible, I'll just not bother with compton.
Cheers, 
WuX&lt;/p&gt;
 </title><link>https://faq.i3wm.org/question/3910/compton-shadows-on-floating-windows-only/?answer=3995#post-id-3995</link><description>In compton.conf, add

`"! \_COMPTON_SHADOW@:32c = 1 &amp;&amp; ! name ^= '[i3 con] floatingcon around'"`

to the "shadow-exclude" line

Then we need an "ugly\_workaround_script.sh" (I use busybox here)

    #!/bin/bb
    
    ombra() {    
        local active=$(xprop -notype -root _NET_ACTIVE_WINDOW)
        local status=$(xprop -notype -id ${active##*\ } _COMPTON_SHADOW)
        if [ "$status" = "_COMPTON_SHADOW = 1" ]; then
            xprop -id ${active##*\ } -remove _COMPTON_SHADOW
        else
            xprop -id ${active##*\ } -f _COMPTON_SHADOW 32c -set _COMPTON_SHADOW 1
        fi
    }

    ombra
    
    exit 0

In i3/config add

    set $float exec --no-startup-id path_to/ugly_workaround_script.sh, floating toggle
and replace all "floating toggle" with $float, e.g.

    bindsym $mod+space $float
    for_window [instance="^mpv$"] $float, workspace video


</description><pubDate>Sun, 15 Jun 2014 23:21:35 +0000</pubDate><guid>https://faq.i3wm.org/question/3910/compton-shadows-on-floating-windows-only/?answer=3995#post-id-3995</guid></item><item><title>Comment by wuxmedia for &lt;p&gt;In compton.conf, add&lt;/p&gt;

&lt;p&gt;&lt;code&gt;"! \_COMPTON_SHADOW@:32c = 1 &amp;amp;&amp;amp; ! name ^= '[i3 con] floatingcon around'"&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;to the "shadow-exclude" line&lt;/p&gt;

&lt;p&gt;Then we need an "ugly_workaround_script.sh" (I use busybox here)&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;#!/bin/bb

ombra() {    
    local active=$(xprop -notype -root _NET_ACTIVE_WINDOW)
    local status=$(xprop -notype -id ${active##*\ } _COMPTON_SHADOW)
    if [ "$status" = "_COMPTON_SHADOW = 1" ]; then
        xprop -id ${active##*\ } -remove _COMPTON_SHADOW
    else
        xprop -id ${active##*\ } -f _COMPTON_SHADOW 32c -set _COMPTON_SHADOW 1
    fi
}

ombra

exit 0
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;In i3/config add&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;set $float exec --no-startup-id path_to/ugly_workaround_script.sh, floating toggle
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;and replace all "floating toggle" with $float, e.g.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;bindsym $mod+space $float
for_window [instance="^mpv$"] $float, workspace video
&lt;/code&gt;&lt;/pre&gt;
</title><link>https://faq.i3wm.org/question/3910/compton-shadows-on-floating-windows-only/?comment=4027#comment-4027</link><description>Excellent work Zolar! muchas gracias I will try this out as soon as I can, (X) Props for finding a workaround!</description><pubDate>Sat, 21 Jun 2014 08:38:20 +0000</pubDate><guid>https://faq.i3wm.org/question/3910/compton-shadows-on-floating-windows-only/?comment=4027#comment-4027</guid></item><item><title>Answer by ViktorNova for &lt;p&gt;Hi, Long time user, always found my answers on here, or just worked it out.&lt;/p&gt;

&lt;p&gt;So the title says it all really, as a previous post says shadows are a bit pointless on a tiler. 
But... on a floating window, that would look great, and help pick the window out from the existing tiles (I have just colour for a wall, right now)
I don't always float, but when I do I'd like shadows!&lt;/p&gt;

&lt;p&gt;Compton allows exclusions on WM_class, so: 
I have tried xprop and xwininfo to see if there is a difference between floaters as far as X is concerned. None that I can see.&lt;/p&gt;

&lt;p&gt;Compton allows wintypes exclusions:
No idea where the wintype info is, the above apps seem not to show them.&lt;/p&gt;

&lt;p&gt;Tried googling for that but not much luck.&lt;/p&gt;

&lt;p&gt;I have tried entering into the compton conf some guesses (float/ing/ed) for wintypes. No Joy.
This maybe more of a compton question, but it does relate to i3, I think as I'm not sure if compton can pick out the floats, I can't be the only person to wish this, can I?&lt;/p&gt;

&lt;p&gt;Anyway, thanks for listening. &lt;/p&gt;

&lt;p&gt;If it's impossible, I'll just not bother with compton.
Cheers, 
WuX&lt;/p&gt;
 </title><link>https://faq.i3wm.org/question/3910/compton-shadows-on-floating-windows-only/?answer=4208#post-id-4208</link><description>Zolar,

Cool hack! However I tried this and I'm getting an error when starting Compton, it says 

&gt; Pattern "! \_COMPTON_SHADOW@:32c = 1 &amp;&amp; ! name ^= '[i3 con] floatingcon around'" pos 2: Empty target.

Here is the line from my compton.conf

    #shadow-exclude = [ "n:e:Notification" ];
    shadow-exclude = [ "! \_COMPTON_SHADOW@:32c = 1 &amp;&amp; ! name ^= '[i3 con] floatingcon around'" ];


I am brand new to Compton so I'm not familiar with the syntax, can you see what I did wrong here?
</description><pubDate>Fri, 11 Jul 2014 20:37:16 +0000</pubDate><guid>https://faq.i3wm.org/question/3910/compton-shadows-on-floating-windows-only/?answer=4208#post-id-4208</guid></item><item><title>Answer by phairland for &lt;p&gt;Hi, Long time user, always found my answers on here, or just worked it out.&lt;/p&gt;

&lt;p&gt;So the title says it all really, as a previous post says shadows are a bit pointless on a tiler. 
But... on a floating window, that would look great, and help pick the window out from the existing tiles (I have just colour for a wall, right now)
I don't always float, but when I do I'd like shadows!&lt;/p&gt;

&lt;p&gt;Compton allows exclusions on WM_class, so: 
I have tried xprop and xwininfo to see if there is a difference between floaters as far as X is concerned. None that I can see.&lt;/p&gt;

&lt;p&gt;Compton allows wintypes exclusions:
No idea where the wintype info is, the above apps seem not to show them.&lt;/p&gt;

&lt;p&gt;Tried googling for that but not much luck.&lt;/p&gt;

&lt;p&gt;I have tried entering into the compton conf some guesses (float/ing/ed) for wintypes. No Joy.
This maybe more of a compton question, but it does relate to i3, I think as I'm not sure if compton can pick out the floats, I can't be the only person to wish this, can I?&lt;/p&gt;

&lt;p&gt;Anyway, thanks for listening. &lt;/p&gt;

&lt;p&gt;If it's impossible, I'll just not bother with compton.
Cheers, 
WuX&lt;/p&gt;
 </title><link>https://faq.i3wm.org/question/3910/compton-shadows-on-floating-windows-only/?answer=3932#post-id-3932</link><description>The only thing you can do in i3 is changing the thickness of the window border.</description><pubDate>Mon, 09 Jun 2014 17:33:58 +0000</pubDate><guid>https://faq.i3wm.org/question/3910/compton-shadows-on-floating-windows-only/?answer=3932#post-id-3932</guid></item><item><title>Comment by ViktorNova for &lt;p&gt;The only thing you can do in i3 is changing the thickness of the window border.&lt;/p&gt;
</title><link>https://faq.i3wm.org/question/3910/compton-shadows-on-floating-windows-only/?comment=4209#comment-4209</link><description>Cool hack! But I'm getting an error when starting Compton:
Pattern "! _COMPTON_SHADOW@:32c = 1 &amp;&amp; ! name ^= '[i3 con] floatingcon around'" pos 2: Empty target.

Here is the line from my compton.conf
shadow-exclude = [ "! \_COMPTON_SHADOW@:32c = 1 &amp;&amp; ! name ^= '[i3 con] floatingcon around'" ];</description><pubDate>Fri, 11 Jul 2014 20:55:38 +0000</pubDate><guid>https://faq.i3wm.org/question/3910/compton-shadows-on-floating-windows-only/?comment=4209#comment-4209</guid></item><item><title>Comment by wuxmedia for &lt;p&gt;The only thing you can do in i3 is changing the thickness of the window border.&lt;/p&gt;
</title><link>https://faq.i3wm.org/question/3910/compton-shadows-on-floating-windows-only/?comment=3980#comment-3980</link><description>Thanks for the workaround phairland, in a similar move, I just made the shadows really tight and the same colour as the borders, so it kinda blends in.</description><pubDate>Sat, 14 Jun 2014 08:32:01 +0000</pubDate><guid>https://faq.i3wm.org/question/3910/compton-shadows-on-floating-windows-only/?comment=3980#comment-3980</guid></item><item><title>Comment by zolar for &lt;p&gt;The only thing you can do in i3 is changing the thickness of the window border.&lt;/p&gt;
</title><link>https://faq.i3wm.org/question/3910/compton-shadows-on-floating-windows-only/?comment=4306#comment-4306</link><description>Should work. I'm using the git version.</description><pubDate>Mon, 21 Jul 2014 16:16:56 +0000</pubDate><guid>https://faq.i3wm.org/question/3910/compton-shadows-on-floating-windows-only/?comment=4306#comment-4306</guid></item></channel></rss>